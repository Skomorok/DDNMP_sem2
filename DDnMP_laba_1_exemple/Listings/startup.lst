


ARM Macro Assembler    Page 1 


    1 00000000         
    2 00000000                 GET              main.s
    1 00000000                 GET              stm32_EQU.s
    1 00000000         
    2 00000000         ; –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–∞–∫—Ä–æ–ø–æ–¥—Å—Ç–∞–Ω–æ–≤–æ–
                       ∫
    3 00000000         
    4 00000000 20000000 
                       STACK   EQU              0x20000000  ;–∞–¥—Ä–µ—Å —Å—Ç–µ–
                                                            ∫–∞
    5 00000000 00000500 
                       STACK_SIZE
                               EQU              0x500       ; —Ä–∞–∑–º–µ—Ä —Å—Ç
                                                            —ç–∫–∞
    6 00000000 20000500 
                       STACK_TOP
                               EQU              STACK+STACK_SIZE ;–≤–µ—Ä—à–∏–Ω–
                                                            ∞ —Å—Ç–µ–∫–∞
    7 00000000         
    8 00000000         
    9 00000000 00000000 
                       NULL    EQU              0x00
   10 00000000 00000001 
                       ONE     EQU              0x01
   11 00000000 00000004 
                       FOUR    EQU              0x04
   12 00000000 00000005 
                       FIVE    EQU              0x05
   13 00000000 00000010 
                       SHEST   EQU              0x10
   14 00000000 FFFFFFFF 
                       MAX     EQU              0xFFFFFFFF
   15 00000000         
   16 00000000                 END
    2 00000000         ; –û–±—ä—è–≤–ª—è–µ–º –º–∞–∫—Ä–æ–ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫—É –¥
                       –ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –º–∞—Å—Å–
                       ∏–≤–∞  
    3 00000000 00000032 
                       MAX_SIZE
                               EQU              0x32
    4 00000000         ; –û–±—ä—è–≤–ª—è–µ–º —Å–µ–≥–º–µ–Ω—Ç –∫–æ–Ω—Å—Ç–∞–Ω—Ç
    5 00000000                 AREA             CONSTANT_FLASH, DATA, READONLY
    6 00000000         
    7 00000000         ; –û–±—ä—è–≤–ª—è–µ–º —Å–µ–≥–º–µ–Ω—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
                       
    8 00000000                 AREA             VERIABLE_RAM, DATA, READWRITE
    9 00000000         ; –ó–¥–µ—Å—å –æ–±—ä—è–≤–ª—è—é—Ç—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
                       
   10 00000000         
   11 00000000         ; –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –≤ –∫–
                       æ—Ç–æ—Ä–æ–π –±—É–¥–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å—Å—è —Ä–µ–∑—É–ª—å—Ç
                       –∞—Ç 
   12 00000000 00000001 
              00000002 
              00000003 
              00000004 mas     DCD              1,2,3,4
   13 00000010         
   14 00000010         
   15 00000010         



ARM Macro Assembler    Page 2 


   16 00000010         ; –û–±—ä—è–≤–ª—è–µ–º —Å–µ–≥–º–µ–Ω—Ç –∫–æ–¥–∞     
   17 00000010                 AREA             MAIN, CODE, READONLY
   18 00000000                 THUMB
   19 00000000         
   20 00000000         
   21 00000000         ; –ø–æ–¥–ø—Ä–æ–≥—Ä–∞–º–º–∞
   22 00000000         data    proc
   23 00000000 4770            BX               LR          ; –ø–µ—Ä–µ—Ö–æ–¥ –ø
                                                            –æ –∞–¥—Ä–µ—Å—É –≤ 
                                                            —Ä–µ–≥–∏—Å—Ç—Ä–µ(–≤
                                                            –æ–∑–≤—Ä–∞—Ç –∏–∑ –
                                                            ø–æ–¥–ø—Ä–æ–≥—Ä–∞–º
                                                            –º—ã)
   24 00000002                 ENDP
   25 00000002         
   26 00000002         
   27 00000002         ; –û–±—ä—è–≤–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é main    
   28 00000002         main    PROC
   29 00000002         
   30 00000002 F04F 0001       mov              R0, #1
   31 00000006 F04F 0102       mov              R1, #2
   32 0000000A F04F 0404       mov              R4, #4
   33 0000000E F04F 0203       mov              R2, #3
   34 00000012 F64F 73FF       mov              R3, #0xffff
   35 00000016 F64F 75AA       mov              R5, #0xffaa
   36 0000001A 4E24            ldr              R6,=mas
   37 0000001C         
   38 0000001C         clp
   39 0000001C         ;   –ê—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
   40 0000001C EB01 0004       ADD              R0, R1, R4  ; –∫–æ–º–∞–Ω–¥–∞ AD
                                                            D –≤—ã–ø–æ–ª–Ω—è–µ—
                                                            Ç —Å–ª–æ–∂–µ–Ω–∏–µ 
                                                            R0=R1+R4
   41 00000020 F601 60A9       ADDW             R0, R1, #3753 ; ADDW —Å–ª–æ–∂–µ
                                                            –Ω–∏–µ —Å 12 –±–∏—Ç
                                                            –Ω–æ–π –∫–æ–Ω—Å—Ç–∞
                                                            –Ω—Ç–æ–π
   42 00000024 EBA4 0002       SUB              R0, R4, R2  ; SUB –≤—ã—á–∏—Ç–∞–
                                                            Ω–∏–µ R0=R4-R2
   43 00000028 F2A4 0002       SUBW             R0, R4, #2  ; –≤—ã—á–∏—Ç–∞–Ω–∏–
                                                            µ —Å 12 –±–∏—Ç–Ω–æ–
                                                            π –∫–æ–Ω—Å—Ç–∞–Ω—Ç–
                                                            æ–π
   44 0000002C EBC2 0004       RSB              R0, R2, R4  ; –≤—ã—á–∏—Ç–∞–Ω–∏–
                                                            µ —Å –ø—Ä–æ—Ç–∏–≤–æ
                                                            –ø–æ–ª–æ–∂–Ω—ã–º –ø
                                                            –æ—Ä—è–¥–∫–æ–º –∞—Ä
                                                            –≥—É–º–µ–Ω—Ç–æ–≤ R0
                                                            =R4-R2
   45 00000030         
   46 00000030         ;   –£–º–Ω–æ–∂–µ–Ω–∏–µ. –î–µ–ª–µ–Ω–∏–µ.
   47 00000030 FB01 F004       MUL              R0, R1, R4  ; —É–º–Ω–æ–∂–µ–Ω–∏–
                                                            µ —Å 32 –±–∏—Ç–Ω—ã–
                                                            º —Ä–µ–∑—É–ª—å—Ç–∞—
                                                            Ç–æ–º R0=R1*R4
   48 00000034 FB01 2004       MLA              R0, R1, R4, R2 ; —É–º–Ω–æ–∂–µ–Ω
                                                            –∏–µ –∏ —Å–ª–æ–∂–µ–
                                                            Ω–∏–µ R0=(R1*R4)+R2
                                                            



ARM Macro Assembler    Page 3 


   49 00000038 FB01 4012       MLS              R0, R1, R2, R4 ; —É–º–Ω–æ–∂–µ–Ω
                                                            –∏–µ –∏ –≤—ã—á–∏—Ç–
                                                            ∞–Ω–∏–µ R0=R4-(R1*R
                                                            2)
   50 0000003C FB85 0701       SMULL            R0, R7, R5, R1 ; —É–º–Ω–æ–∂–µ–Ω
                                                            –∏–µ —Å–æ –∑–Ω–∞–∫–
                                                            æ–º R0=R5*R1 64 –±–
                                                            ∏—Ç–Ω—ã–π —Ä–µ–∑—É–
                                                            ª—å—Ç–∞—Ç
   51 00000040 FBB4 F0F2       UDIV             R0, R4, R2  ; –¥–µ–ª–µ–Ω–∏–µ –±
                                                            –µ–∑ –∑–Ω–∞–∫–∞ R0=
                                                            R4/R2
   52 00000044 FB95 F0F1       SDIV             R0, R5, R1  ; –¥–µ–ª–µ–Ω–∏–µ —Å
                                                            –æ –∑–Ω–∞–∫–æ–º R0=
                                                            R5/R1
   53 00000048         
   54 00000048         ; –¥–æ—Å—Ç—É–ø –∫ –ø–∞–º—è—Ç–∏ 
   55 00000048 F2AF 0030       ADR              R0, clp     ; –∑–∞–≥—Ä—É–∑–∫–∞ 
                                                            –∞–¥—Ä–µ—Å–∞ –º–µ—Ç
                                                            –∫–∏ –≤ —Ä–µ–≥–∏—Å—
                                                            Ç—Ä –≤ R0 –∑–∞–ø–∏—
                                                            à–µ—Ç—Å—è –∞–¥—Ä–µ—
                                                            Å –ø–æ –∫–æ—Ç–æ—Ä–æ
                                                            –º—É –Ω–∞—Ö–æ–¥–∏—Ç
                                                            —Å—è –º–µ—Ç–∫–∞ clp
                                                            
   56 0000004C 5888            LDR              R0, [R1, R2] ; –∑–∞–≥—Ä—É–∑–∫–∞
                                                             –≤ —Ä–µ–≥–∏—Å—Ç—Ä 
                                                            R0 –∑–Ω–∞—á–µ–Ω–∏—è
                                                             –ø–æ –∞–¥—Ä–µ—Å—É 
                                                            R1 —Å–æ —Å–º–µ—â–µ–
                                                            Ω–∏–µ–º R2, –¥–æ–±–
                                                            ∞–≤–ª–µ–Ω–∏–µ –∫ –∫
                                                            –æ–º–∞–Ω–¥–µ —Å–∏–º
                                                            –≤–æ–ª–æ–≤ B=–±–∞–π
                                                            —Ç, SB=–±–∞–π—Ç —Å–
                                                            æ –∑–Ω–∞–∫–æ–º, H=–
                                                            ø–æ–ª—É—Å–ª–æ–≤–æ, 
                                                            SH=–ø–æ–ª—É—Å–ª–æ–≤
                                                            –æ —Å–æ –∑–Ω–∞–∫–æ–
                                                            º
   57 0000004E 5130            STR              R0, [R6, R4] ; –∑–∞–ø–∏—Å—å –∏–
                                                            ∑ —Ä–µ–≥–∏—Å—Ç—Ä–∞ 
                                                            R0 –≤ –ø–∞–º—è—Ç—å 
                                                            –ø–æ –∞–¥—Ä–µ—Å—É R
                                                            6 —Å–æ —Å–º–µ—â–µ–Ω
                                                            –∏–µ–º R4, –¥–æ–±–∞
                                                            –≤–ª–µ–Ω–∏–µ –∫ –∫–
                                                            æ–º–∞–Ω–¥–µ –∑–∞–¥–
                                                            ∞–µ—Ç —Ä–∞–∑–º–µ—Ä 
                                                            –∑–∞–ø–∏—Å–∏ –∑–Ω–∞
                                                            —á–µ–Ω–∏–π B, SB, H
                                                            , SH
   58 00000050 B507            PUSH             {R0-R2, LR} ; —Å–æ—Ö—Ä–∞–Ω–µ–Ω–
                                                            ∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–
                                                            æ–≤ R0-R2 –∏ —Ä–µ–≥
                                                            –∏—Å—Ç—Ä–∞ LR –≤ —Å
                                                            —Ç–µ–∫
   59 00000052 F7FF FFFE       BL               data        ; –ø–µ—Ä–µ—Ö–æ–¥ –≤



ARM Macro Assembler    Page 4 


                                                             –ø–æ–¥–ø—Ä–æ–≥—Ä–∞
                                                            –º–º—É data
   60 00000056 E8BD 4007       POP              {R0-R2, LR} ; –∑–∞–≥—Ä—É–∑—Å–∫–
                                                            ∞ –∑–Ω–∞—á–µ–Ω–∏–π 
                                                            —Ä–µ–≥–∏—Å—Ç—Ä–æ–≤ 
                                                            R0-R2 –∏ —Ä–µ–≥–∏—Å
                                                            —Ç—Ä–∞ LR –∏–∑ —Å—Ç
                                                            –µ–∫–∞
   61 0000005A         
   62 0000005A         ; —Ä–∞–±–æ—Ç–∞ —Å –±–∏—Ç–æ–≤—ã–º–∏ –ø–æ–ª—è–º–∏
   63 0000005A F36F 0303       BFC              R3, #0, #4  ; —Å–±—Ä–æ—Å –±–∏—Ç
                                                            –æ–≤ –≤ 0 —Å 0-4–±–
                                                            ∏—Ç
   64 0000005E F362 0303       BFI              R3, R2, #0, #4 ; –∫–æ–ø–∏—Ä—É–µ
                                                            —Ç –º–ª–∞–¥—à–∏–µ –
                                                            ±–∏—Ç—ã R2 c 0-4–±–
                                                            ∏—Ç –≤ R3
   65 00000062 F3C5 0303       UBFX             R3, R5, #0, #4 ; –∫–æ–ø–∏—Ä—É–µ
                                                            —Ç –º–ª–∞–¥—à–∏–µ –
                                                            ±–∏—Ç—ã R5 —Å 0-4–±
                                                            –∏—Ç –≤ R3 —Å –∑–∞–
                                                            ø–æ–ª–µ–Ω–∏–µ–º –æ—
                                                            Å—Ç–∞–ª—å–Ω—ã—Ö 0
   66 00000066 F345 030F       SBFX             R3, R5, #0, #16 ; –∫–æ–ø–∏—Ä—É–
                                                            µ—Ç –º–ª–∞–¥—à–∏–µ 
                                                            –±–∏—Ç—ã R5 —Å 0-16
                                                            –±–∏—Ç –≤ R3 —Å —Ä–
                                                            ∞—Å—à–∏—Ä–µ–Ω–∏–µ–º
                                                             –∑–Ω–∞–∫–∞(–∑–Ω–∞–
                                                            ∫–æ–≤—ã–π –±–∏—Ç –¥
                                                            —É–±–ª–∏—Ä—É–µ—Ç—Å—
                                                            è –Ω–∞ –≤—Å–µ –æ—Å—
                                                            Ç–∞–≤—à–∏–µ—Å—è –±–
                                                            ∏—Ç—ã)
   67 0000006A B2EB            UXTB             R3, R5      ; –∫–æ–ø–∏—Ä—É–µ—Ç 
                                                            –ø–µ—Ä–≤—ã–π –±–∞–π
                                                            —Ç –∏–∑ R5 –≤ R3 —Å
                                                             –∑–∞–ø–æ–ª–µ–Ω–∏–µ
                                                            –º –æ—Å—Ç–∞–ª—å–Ω—ã
                                                            —Ö –±–∏—Ç–æ–≤ 0, –µ
                                                            —Å–ª–∏ –Ω–∞–¥–æ –∫–
                                                            æ–ø–∏—Ä–æ–≤–∞—Ç—å 2
                                                             –±–∞–π—Ç–∞ —Ç–æ UX
                                                            TH
   68 0000006C B25D            SXTB             R5, R3      ; –∫–æ–ø–∏—Ä—É–µ—Ç 
                                                            –ø–µ—Ä–≤—ã–π –±–∞–π
                                                            —Ç –∏–∑ R5 –≤ R3 —Å
                                                             –∑–∞–ø–æ–ª–µ–Ω–∏–µ
                                                            –º –æ—Å—Ç–∞–ª—å–Ω—ã
                                                            —Ö –±–∏—Ç–æ–≤ 1, –µ
                                                            —Å–ª–∏ –Ω–∞–¥–æ –∫–
                                                            æ–ø–∏—Ä–æ–≤–∞—Ç—å 2
                                                             –±–∞–π—Ç–∞ —Ç–æ SX
                                                            TH
   69 0000006E         
   70 0000006E         ; –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—
                       ã—Ö
   71 0000006E 4618            MOV              R0, R3      ; –∑–∞–≥—Ä—É–∑–∫–∞ 
                                                            –≤ —Ä–µ–≥–∏—Å—Ç—Ä R



ARM Macro Assembler    Page 5 


                                                            0, –∑–∞–Ω–∞—á–µ–Ω–∏
                                                            —è –∏–∑ R3
   72 00000070 4290            CMP              R0, R2      ; —Å—Ä–∞–≤–Ω–µ–Ω–∏–
                                                            µ —Ä–µ–≥–∏—Å—Ç—Ä–æ–
                                                            ≤, —É—Å—Ç–∞–Ω–∞–≤–ª
                                                            –∏–≤–∞–µ—Ç —Ñ–ª–∞–≥
                                                            –∏ Z, C, N, V (Z=1 
                                                            —Ä–∞–≤–µ–Ω—Å—Ç–≤–æ,
                                                             Z=0 –Ω–µ—Ä–∞–≤–µ–Ω
                                                            —Å—Ç–≤–æ, –°=1 –±–æ
                                                            –ª—å—à–µ –∏–ª–∏ —Ä–
                                                            ∞–≤–Ω–æ, –°=0 –º–µ–
                                                            Ω—å—à–µ, N=1 –æ—Ç—Ä
                                                            –∏—Ü–∞—Ç–µ–ª—å–Ω–æ–
                                                            µ, N=0 –ø–æ–ª–æ–∂–∏
                                                            —Ç–µ–ª—å–Ω–æ–µ –∑–Ω
                                                            –∞—á–µ–Ω–∏–µ, V=1 –
                                                            ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω
                                                            –∏–µ, V=0 –Ω–µ—Ç –ø
                                                            –µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–
                                                            ∏—è
   73 00000072         ;CMN R0, R2  —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–
                       æ–∂–Ω—ã–º –∑–Ω–∞–∫–æ–º 
   74 00000072 EA90 0F01       TEQ              R0, R1      ; –ø—Ä–æ–≤–µ—Ä–∫–∞ 
                                                            —Ä–∞–≤–µ–Ω—Å—Ç–≤–∞ 
                                                            –¥–≤—É—Ö –≤–µ–ª–∏—á
                                                            –∏–Ω —É—Å—Ç–∞–Ω–∞–≤
                                                            –ª–∏–≤–∞–µ—Ç —Ñ–ª–∞
                                                            –≥–∏ N, Z
   75 00000076         
   76 00000076         ; —Å—É—Ñ—Ñ–∏–∫—Å—ã —É—Å–ª–æ–≤–Ω–æ–≥–æ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏
                       —è –≤—Å–µ —á—Ç–æ —Å—Ç–æ–∏—Ç –ø–æ—Å–ª–µ MOV –∏ –ø–æ—Å–ª–µ
                        B —è–≤–ª—è–µ—Ç—Å—è —Å—É—Ñ—Ñ–∏–∫—Å–∞–º–∏
   77 00000076 BF0C 2001       MOVEQ            R0, #1      ; –∑–∞–ø–∏—Å–∞—Ç—å 
                                                            –≤ R0 1, –µ—Å–ª–∏ Z
                                                            =1
   78 0000007A 2002            MOVNE            R0, #2      ; –∑–∞–ø–∏—Å–∞—Ç—å 
                                                            –≤ R0 2, –µ—Å–ª–∏ Z
                                                            =0
   79 0000007C D215            BCS              loop        ; –ø–µ—Ä–µ–π—Ç–∏ –≤
                                                             loop, –µ—Å–ª–∏ –°=
                                                            1
   80 0000007E D314            BCC              loop        ; –ø–µ—Ä–µ–π—Ç–∏ –≤
                                                             loop, –µ—Å–ª–∏ –°=
                                                            0
   81 00000080 D413            BMI              loop        ; –ø–µ—Ä–µ–π—Ç–∏ –≤
                                                             loop, –µ—Å–ª–∏ N=1
                                                            
   82 00000082 D512            BPL              loop        ; –ø–µ—Ä–µ–π—Ç–∏ –≤
                                                             loop, –µ—Å–ª–∏ N=0
                                                            
   83 00000084 DA11            BGE              loop        ; –ø–µ—Ä–µ–π—Ç–∏ –≤
                                                             loop, –µ—Å–ª–∏ N=V
                                                            , –±–æ–ª—å—à–µ –∏–ª
                                                            –∏ —Ä–∞–≤–Ω–æ
   84 00000086 DC10            BGT              loop        ; –ø–µ—Ä–µ–π—Ç–∏ –≤
                                                             loop, –µ—Å–ª–∏ Z=0
                                                             –∏ N=V, –±–æ–ª—å—à
                                                            –µ



ARM Macro Assembler    Page 6 


   85 00000088 DD0F            BLE              loop        ; –ø–µ—Ä–µ–π—Ç–∏ –≤
                                                             loop, –µ—Å–ª–∏ Z=1
                                                             –∏ N!=V, –º–µ–Ω—å—
                                                            à–µ –∏–ª–∏ —Ä–∞–≤–Ω
                                                            –æ
   86 0000008A         
   87 0000008A         ; –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã
   88 0000008A EA01 0102       AND              R1,R2       ; –ª–æ–≥–∏—á–µ—Å–∫–
                                                            æ–µ –∏, —Å—Ç–∞–≤–∏—
                                                            Ç –≤ R1 0 –≤ —Ç–µ –
                                                            ±–∏—Ç—ã, –≥–¥–µ –≤ 
                                                            R2 0
   89 0000008E EA41 0105       ORR              R1,R5       ; –ª–æ–≥–∏—á–µ—Å–∫–
                                                            æ–µ –∏–ª–∏, —É—Å—Ç–
                                                            ∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç
                                                             1 –≤ R1 –≤ —Ç–µ –±
                                                            –∏—Ç—ã, –≥–¥–µ 1 —Å
                                                            —Ç–æ–∏—Ç –≤ R5
   90 00000092 EA81 0104       EOR              R1,R4       ; –ª–æ–≥–∏—á–µ—Å–∫–
                                                            æ–µ –∏—Å–∫–ª—é—á–∞—
                                                            é—â–µ–µ –∏–ª–∏, –∏–
                                                            Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç
                                                             —Å–æ–¥–µ—Ä–∂–∏–º–æ
                                                            –µ R1 –≤ —Ç–µ—Ö –±–
                                                            ∏—Ç–∞—Ö, –≥–¥–µ –≤ 
                                                            R4 —Å—Ç–æ—è—Ç 1
   91 00000096 EA21 0103       BIC              R1,R3       ; –ª–æ–≥–∏—á–µ—Å–∫–
                                                            æ–µ –∏ –Ω–µ, —Å–±—Ä
                                                            –∞—Å—ã–≤–∞–µ—Ç –±–∏
                                                            —Ç—ã –≤ R1, —Ç–∞–º 
                                                            –≥–¥–µ –≤ R3 —Å—Ç–æ
                                                            –∏—Ç 1
   92 0000009A EA61 0105       ORN              R1,R5       ; –ª–æ–≥–∏—á–µ—Å–∫–
                                                            æ–µ –∏–ª–∏ –Ω–µ, —É
                                                            —Å—Ç–∞–Ω–∞–≤–ª–∏–≤–
                                                            ∞–µ—Ç –±–º—Ç—ã –≤ R
                                                            1, —Ç–∞–º –≥–¥–µ –≤
                                                             R5 —Å—Ç–æ–∏—Ç 0
   93 0000009E         
   94 0000009E         ; –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å–¥–≤–∏–≥–∞
   95 0000009E EA4F 01A1       ASR              R1,#2       ; –∞—Ä–∏—Ñ–º–µ—Ç–∏—
                                                            á–µ—Å–∫–∏–π —Å–¥–≤–
                                                            ∏–≥ –≤–ø—Ä–∞–≤–æ –Ω
                                                            –∞ 
   96 000000A2 EA4F 0142       LSL              R1, R2, #1  ; –ª–æ–≥–∏—á–µ—Å–∫–
                                                            ∏–π —Å–¥–≤–∏–≥ –≤–ª
                                                            –µ–≤–æ –∑–Ω–∞—á–µ–Ω
                                                            –∏—è –∏–∑ R2 –Ω–∞ 1
                                                            , —Å –∑–∞–ø–∏—Å—å—é
                                                             —Ä–µ–∑—É–ª—å—Ç–∞—Ç
                                                            –∞ –≤ R1
   97 000000A6 EA4F 01D1       LSR              R1, #3      ; –ª–æ–≥–∏—á–µ—Å–∫–
                                                            ∏–π —Å–¥–≤–∏–≥ –≤–ø
                                                            —Ä–∞–≤–æ –∑–Ω–∞—á–µ
                                                            –Ω–∏—è R1 –Ω–∞ 3
   98 000000AA         loop
   99 000000AA E7FE            B                loop        ; –ø–µ—Ä–µ–π—Ç–∏ –≤
                                                             –º–µ—Ç–∫—É –ø–æ–¥ 
                                                            –Ω–∞–∑–≤–∞–Ω–∏–µ–º 



ARM Macro Assembler    Page 7 


                                                            loop
  100 000000AC                 END
    3 000000AC         
    4 000000AC         ;–î–∏—Ä–µ–∫—Ç–∏–≤–∞ PRESERVE8 –£–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ
                        —Ç–µ–∫—É—â–∏–π —Ñ–∞–π–ª —Ç—Ä–µ–±—É–µ—Ç –∏–ª–∏ —Å–æ—Ö—Ä–
                       ∞–Ω—è–µ—Ç –≤–æ—Å—å–º–∏–±–∞–π—Ç–æ–≤–æ–µ –≤—ã—Ä–∞–Ω–∏–≤–∞–
                       Ω–∏–µ —Å—Ç–µ–∫–∞
    5 000000AC                 PRESERVE8
    6 000000AC         
    7 000000AC         ;–î–∏—Ä–µ–∫—Ç–∏–≤–∞ THUMB –∏–Ω—Å—Ç—Ä—É–∫—Ç–∏—Ä—É–µ—Ç –∞—
                       Å—Å–µ–º–±–ª–µ—Ä –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Å–
                       ª–µ–¥—É—é—â–∏–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏, 
    8 000000AC         ;–∫–∞–∫ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ Thumb –∏—Å–ø–æ–ª—å–∑—É—è —Å
                       –∏–Ω—Ç–∞–∫—Å–∏—Å UAL.
    9 000000AC                 THUMB
   10 000000AC         
   11 000000AC         ;–û–±—ä—è–≤–ª—è–µ–º —Å—Ç–∞—Ä—Ç–æ–≤—ã–π —Å–µ–≥–º–µ–Ω—Ç –∫
                       –æ–¥–∞ 
   12 000000AC 00000000        AREA             RESET, CODE, READONLY
   13 00000000         
   14 00000000         ; –¢–∞–±–ª–∏—Ü–∞ –≤–µ–∫—Ç–æ—Ä–æ–≤ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π
   15 00000000 20000500        DCD              STACK_TOP   ; –£–∫–∞–∑–∞—Ç–µ–ª—
                                                            å –Ω–∞ –≤–µ—Ä—à–∏–Ω
                                                            —É —Å—Ç–µ–∫–∞
   16 00000004 00000000        DCD              startup     ; –í–µ–∫—Ç–æ—Ä —Å–±
                                                            —Ä–æ—Å–∞
   17 00000008         
   18 00000008         ;–¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
   19 00000008                 ENTRY
   20 00000008         
   21 00000008         
   22 00000008         ;Startup –∫–æ–¥
   23 00000008         startup PROC                         ; –ù–∞—á–∞–ª–æ star
                                                            tup –∫–æ–¥–∞ 
   24 00000008         ;–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ú–ö
   25 00000008         
   26 00000008         ; –ü–µ—Ä–µ—Ö–æ–¥ –≤ –ø—Ä–æ–≥—Ä–∞–º–º—É main
   27 00000008 F7FF BFFE       B                main
   28 0000000C         
   29 0000000C                 ENDP                         ; –ö–æ–Ω–µ—Ü –ø—Ä–æ
                                                            –≥—Ä–∞–º–º—ã
   30 0000000C                 END                          ; –ö–æ–Ω–µ—Ü —Ñ–∞–π
                                                            –ª–∞
Command Line: --debug --xref --diag_suppress=9931 --cpu=Cortex-M3 --apcs=interw
ork --depend=.\objects\startup.d -o.\objects\startup.o -IC:\Users\Admin\AppData
\Local\Arm\Packs\Keil\STM32F1xx_DFP\2.3.0\Device\Include --predefine="__EVAL SE
TA 1" --predefine="__UVISION_VERSION SETA 535" --predefine="STM32F10X_MD SETA 1
" --list=.\listings\startup.lst startup.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

CONSTANT_FLASH 00000000

Symbol: CONSTANT_FLASH
   Definitions
      At line 5 in file main.s
   Uses
      None
Comment: CONSTANT_FLASH unused
1 symbol



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

VERIABLE_RAM 00000000

Symbol: VERIABLE_RAM
   Definitions
      At line 8 in file main.s
   Uses
      None
Comment: VERIABLE_RAM unused
mas 00000000

Symbol: mas
   Definitions
      At line 12 in file main.s
   Uses
      At line 36 in file main.s
Comment: mas used once
2 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

MAIN 00000000

Symbol: MAIN
   Definitions
      At line 17 in file main.s
   Uses
      None
Comment: MAIN unused
clp 0000001C

Symbol: clp
   Definitions
      At line 38 in file main.s
   Uses
      At line 55 in file main.s
Comment: clp used once
data 00000000

Symbol: data
   Definitions
      At line 22 in file main.s
   Uses
      At line 59 in file main.s
Comment: data used once
loop 000000AA

Symbol: loop
   Definitions
      At line 98 in file main.s
   Uses
      At line 79 in file main.s
      At line 80 in file main.s
      At line 81 in file main.s
      At line 82 in file main.s
      At line 83 in file main.s
      At line 84 in file main.s
      At line 85 in file main.s
      At line 99 in file main.s

main 00000002

Symbol: main
   Definitions
      At line 28 in file main.s
   Uses
      At line 27 in file startup.s
Comment: main used once
5 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

RESET 00000000

Symbol: RESET
   Definitions
      At line 12 in file startup.s
   Uses
      None
Comment: RESET unused
startup 00000008

Symbol: startup
   Definitions
      At line 23 in file startup.s
   Uses
      At line 16 in file startup.s
Comment: startup used once
2 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Absolute symbols

FIVE 00000005

Symbol: FIVE
   Definitions
      At line 12 in file stm32_EQU.s
   Uses
      None
Comment: FIVE unused
FOUR 00000004

Symbol: FOUR
   Definitions
      At line 11 in file stm32_EQU.s
   Uses
      None
Comment: FOUR unused
MAX FFFFFFFF

Symbol: MAX
   Definitions
      At line 14 in file stm32_EQU.s
   Uses
      None
Comment: MAX unused
MAX_SIZE 00000032

Symbol: MAX_SIZE
   Definitions
      At line 3 in file main.s
   Uses
      None
Comment: MAX_SIZE unused
NULL 00000000

Symbol: NULL
   Definitions
      At line 9 in file stm32_EQU.s
   Uses
      None
Comment: NULL unused
ONE 00000001

Symbol: ONE
   Definitions
      At line 10 in file stm32_EQU.s
   Uses
      None
Comment: ONE unused
SHEST 00000010

Symbol: SHEST
   Definitions
      At line 13 in file stm32_EQU.s
   Uses
      None
Comment: SHEST unused
STACK 20000000

Symbol: STACK



ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Absolute symbols

   Definitions
      At line 4 in file stm32_EQU.s
   Uses
      At line 6 in file stm32_EQU.s
Comment: STACK used once
STACK_SIZE 00000500

Symbol: STACK_SIZE
   Definitions
      At line 5 in file stm32_EQU.s
   Uses
      At line 6 in file stm32_EQU.s
Comment: STACK_SIZE used once
STACK_TOP 20000500

Symbol: STACK_TOP
   Definitions
      At line 6 in file stm32_EQU.s
   Uses
      At line 15 in file startup.s
Comment: STACK_TOP used once
10 symbols
355 symbols in table
